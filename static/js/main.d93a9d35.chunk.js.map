{"version":3,"sources":["Component/Viewer.js","App.js","cornerstone/initCornerstone.js","index.js"],"names":["stack1","stack2","Viewer","state","activeViewportIndex","viewports","tools","name","mode","modeOptions","mouseButtonMask","imageIds","activeTool","imageIdIndex","isPlaying","frameRate","style","display","flexWrap","this","map","vp","minWidth","height","flex","className","setViewportActive","setState","marginTop","htmlFor","value","onChange","evt","target","id","type","min","max","length","parseInt","defaultValue","selectedStack","readOnly","onClick","frameRateInput","Math","Component","ExampleEntry","title","url","text","to","Index","exampleComponents","e","minHeight","AppRouter","exact","path","component","render","props","children","App","cornerstoneTools","external","cornerstone","Hammer","cornerstoneMath","init","textStyle","setFont","toolStyle","setToolWidth","toolColors","setToolColor","setActiveColor","store","touchProximity","cornerstoneWADOImageLoader","dicomParser","webWorkerManager","initialize","maxWebWorkers","navigator","hardwareConcurrency","startWebWorkersOnDemand","taskConfiguration","decodeTask","initializeCodecsOnStartup","usePDFJS","strict","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d93a9d35.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport CornerstoneViewport from 'react-cornerstone-viewport';\r\nconst stack1 = [\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.7.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.8.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.9.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.10.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.11.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.12.dcm',\r\n];\r\n\r\nconst stack2 = [\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.9.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.10.dcm',\r\n    'dicomweb://s3.amazonaws.com/lury/PTCTStudy/1.3.6.1.4.1.25403.52237031786.3872.20100510032220.11.dcm',\r\n];\r\n\r\nclass Viewer extends Component {\r\n    state = {\r\n        activeViewportIndex: 0,\r\n        viewports: [0, 1, 2, 3],\r\n        tools: [\r\n            // Mouse\r\n            {\r\n                name: 'Wwwc',\r\n                mode: 'active',\r\n                modeOptions: { mouseButtonMask: 1 },\r\n            },\r\n            {\r\n                name: 'Zoom',\r\n                mode: 'active',\r\n                modeOptions: { mouseButtonMask: 2 },\r\n            },\r\n            {\r\n                name: 'Pan',\r\n                mode: 'active',\r\n                modeOptions: { mouseButtonMask: 4 },\r\n            },\r\n            'Length',\r\n            'Angle',\r\n            'Bidirectional',\r\n            'FreehandRoi',\r\n            'Eraser',\r\n            // Scroll\r\n            { name: 'StackScrollMouseWheel', mode: 'active' },\r\n            // Touch\r\n            { name: 'PanMultiTouch', mode: 'active' },\r\n            { name: 'ZoomTouchPinch', mode: 'active' },\r\n            { name: 'StackScrollMultiTouch', mode: 'active' },\r\n        ],\r\n        imageIds: stack1,\r\n        // FORM\r\n        activeTool: 'Wwwc',\r\n        imageIdIndex: 0,\r\n        isPlaying: false,\r\n        frameRate: 22,\r\n    };\r\n\r\n    componentDidMount() {}\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                    {this.state.viewports.map(vp => (\r\n                        <CornerstoneViewport\r\n                            key={vp}\r\n                            style={{ minWidth: '50%', height: '256px', flex: '1' }}\r\n                            tools={this.state.tools}\r\n                            imageIds={this.state.imageIds}\r\n                            imageIdIndex={this.state.imageIdIndex}\r\n                            isPlaying={this.state.isPlaying}\r\n                            frameRate={this.state.frameRate}\r\n                            className={this.state.activeViewportIndex === vp ? 'active' : ''}\r\n                            activeTool={this.state.activeTool}\r\n                            setViewportActive={() => {\r\n                                this.setState({\r\n                                    activeViewportIndex: vp,\r\n                                });\r\n                            }}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                {/* FORM */}\r\n                <div style={{ marginTop: '35px' }}>\r\n                    <form className=\"row\">\r\n                        {/* FIRST COLUMN */}\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"active-tool\">Active Tool:</label>\r\n                                <select\r\n                                    value={this.state.activeTool}\r\n                                    onChange={evt =>\r\n                                        this.setState({ activeTool: evt.target.value })\r\n                                    }\r\n                                    className=\"form-control\"\r\n                                    id=\"active-tool\"\r\n                                >\r\n                                    <option value=\"Wwwc\">Wwwc</option>\r\n                                    <option value=\"Zoom\">Zoom</option>\r\n                                    <option value=\"Pan\">Pan</option>\r\n                                    <option value=\"Length\">Length</option>\r\n                                    <option value=\"Angle\">Angle</option>\r\n                                    <option value=\"Bidirectional\">Bidirectional</option>\r\n                                    <option value=\"FreehandRoi\">Freehand</option>\r\n                                    <option value=\"Eraser\">Eraser</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"image-id-index\">Image ID Index:</label>\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"0\"\r\n                                    max={this.state.imageIds.length - 1}\r\n                                    value={this.state.imageIdIndex}\r\n                                    onChange={evt =>\r\n                                        this.setState({ imageIdIndex: parseInt(evt.target.value) })\r\n                                    }\r\n                                    className=\"form-control\"\r\n                                    id=\"image-id-index\"\r\n                                ></input>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"image-id-stack\">Image ID Stack:</label>\r\n                                <select\r\n                                    defaultValue={1}\r\n                                    onChange={evt => {\r\n                                        const selectedStack =\r\n                                            parseInt(evt.target.value) === 1 ? stack1 : stack2;\r\n\r\n                                        this.setState({\r\n                                            imageIds: selectedStack,\r\n                                            imageIdIndex: 0,\r\n                                        });\r\n                                    }}\r\n                                    className=\"form-control\"\r\n                                    id=\"image-id-stack\"\r\n                                >\r\n                                    <option value=\"1\">Stack 1</option>\r\n                                    <option value=\"2\">Stack 2</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        {/* SECOND COLUMN */}\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"active-viewport-index\">\r\n                                    Active Viewport Index:\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    readOnly={true}\r\n                                    value={this.state.activeViewportIndex}\r\n                                    className=\"form-control\"\r\n                                    id=\"active-viewport-index\"\r\n                                ></input>\r\n                            </div>\r\n                            <div className=\"input-group\">\r\n                <span className=\"input-group-btn\">\r\n                  <button\r\n                      className=\"btn btn-default\"\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                          this.setState({\r\n                              isPlaying: !this.state.isPlaying,\r\n                          });\r\n                      }}\r\n                  >\r\n                    {this.state.isPlaying ? 'Stop' : 'Start'}\r\n                  </button>\r\n                </span>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"form-control\"\r\n                                    value={this.state.frameRate}\r\n                                    onChange={evt => {\r\n                                        const frameRateInput = parseInt(evt.target.value);\r\n                                        const frameRate = Math.max(Math.min(frameRateInput, 90), 1);\r\n\r\n                                        this.setState({ frameRate });\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Viewer;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\r\n// Routes\r\nimport Viewer from './Component/Viewer.js';\r\n\r\nfunction ExampleEntry({ title, url, text }) {\r\n  return (\r\n      <div>\r\n        <h5>\r\n          <Link to={url}>{title}</Link>\r\n        </h5>\r\n        <p>{text}</p>\r\n        <hr />\r\n      </div>\r\n  );\r\n}\r\n\r\nfunction Index() {\r\n  const style = {\r\n    minHeight: '512px',\r\n  };\r\n\r\n  const examples = [\r\n    {\r\n      title: 'Open Viewer',\r\n      url: '/grid',\r\n      text: 'multiple viewers',\r\n    }\r\n  ];\r\n\r\n  const exampleComponents = examples.map(e => {\r\n    return <ExampleEntry key={e.title} {...e} />;\r\n  });\r\n\r\n  return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-lg-12\" style={style}>\r\n            <h1>Cloud App PACS</h1>\r\n            {exampleComponents}\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nfunction Login(props) {\r\n  return (\r\n      <div className=\"container\">\r\n        <h5>\r\n          <Link to=\"/\">Back to Login</Link>\r\n        </h5>\r\n        {props.children}\r\n      </div>\r\n  );\r\n}\r\n\r\nfunction AppRouter() {\r\n  const grid = () => Login({ children: <Viewer /> });\r\n  return (\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Index} />\r\n          <Route exact path=\"/grid/\" render={grid} />\r\n\r\n          <Route exact component={Index} />\r\n        </Switch>\r\n      </Router>\r\n  );\r\n}\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return <AppRouter />;\r\n  }\r\n}\r\n","import dicomParser from 'dicom-parser';\r\nimport cornerstone from 'cornerstone-core';\r\nimport cornerstoneWADOImageLoader from 'cornerstone-wado-image-loader';\r\nimport cornerstoneMath from 'cornerstone-math';\r\nimport cornerstoneTools from 'cornerstone-tools';\r\nimport Hammer from 'hammerjs';\r\n\r\nexport default function initCornerstone() {\r\n    // Cornertone Tools\r\n    cornerstoneTools.external.cornerstone = cornerstone;\r\n    cornerstoneTools.external.Hammer = Hammer;\r\n    cornerstoneTools.external.cornerstoneMath = cornerstoneMath;\r\n\r\n    //\r\n    cornerstoneTools.init();\r\n\r\n    // Preferences\r\n    const fontFamily =\r\n        'Work Sans, Roboto, OpenSans, HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif';\r\n    cornerstoneTools.textStyle.setFont(`16px ${fontFamily}`);\r\n    cornerstoneTools.toolStyle.setToolWidth(2);\r\n    cornerstoneTools.toolColors.setToolColor('rgb(255, 255, 0)');\r\n    cornerstoneTools.toolColors.setActiveColor('rgb(0, 255, 0)');\r\n\r\n    cornerstoneTools.store.state.touchProximity = 40;\r\n\r\n    // IMAGE LOADER\r\n    cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\r\n    cornerstoneWADOImageLoader.external.dicomParser = dicomParser;\r\n    cornerstoneWADOImageLoader.webWorkerManager.initialize({\r\n        maxWebWorkers: navigator.hardwareConcurrency || 1,\r\n        startWebWorkersOnDemand: true,\r\n        taskConfiguration: {\r\n            decodeTask: {\r\n                initializeCodecsOnStartup: false,\r\n                usePDFJS: false,\r\n                strict: false,\r\n            },\r\n        },\r\n    });\r\n\r\n    // Debug\r\n    window.cornerstone = cornerstone;\r\n    window.cornerstoneTools = cornerstoneTools;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport initCornerstone from './cornerstone/initCornerstone.js';\r\n\r\n//\r\ninitCornerstone();\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}